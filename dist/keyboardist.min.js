!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Keyboardist=t()}(this,function(){"use strict";const e=e=>{var t=(e.target||e.nativeEvent.target).tagName;return"BUTTON"===t||"INPUT"===t||"SELECT"===t||"TEXTAREA"===t},t=e=>16===e.which||17===e.which||18===e.which||91===e.which,n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i=e=>{const t=e.which,i=[];let r=String.fromCharCode(t).toLowerCase();return n[t]&&(r=n[t]),e.altKey&&i.push("alt"),e.shiftKey&&i.push("shift"),e.ctrlKey&&i.push("ctrl"),i.push(r),i.join("+")};return function(n="keydown"){let r={};return document.addEventListener(n,function(n){if(t(n))return;if(e(n))return;const s=i(n),o=r[s]||[];o.length&&n.preventDefault(),o.map(e=>e())}),{subscribe:function(e,t){return void 0===r[e]&&(r[e]=[]),r[e].push(t),{unsubscribe:()=>{const e=listeners.indexOf(t);listeners.splice(e,1)}}}}}});
