!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.Keyboardist=t()}(this,function(){"use strict";var e=function(e){var t=(e.target||e.nativeEvent.target).tagName;return"BUTTON"===t||"INPUT"===t||"SELECT"===t||"TEXTAREA"===t},t=function(e){return 16===e.which||17===e.which||18===e.which||91===e.which},n={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta",106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i=function(e){var t=e.which,i=[],r=String.fromCharCode(t).toLowerCase();return n[t]&&(r=n[t]),e.altKey&&i.push("alt"),e.shiftKey&&i.push("shift"),e.ctrlKey&&i.push("ctrl"),i.push(r),i.join("+")};return function(){var n={};return document.addEventListener(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"keydown",function(r){if(!t(r)&&!e(r)){var u=i(r),o=n[u]||[];o.length&&r.preventDefault(),o.map(function(e){return e()})}}),{subscribe:function(e,t){return void 0===n[e]&&(n[e]=[]),n[e].push(t),{unsubscribe:function(){var i=n[e].indexOf(t);n[e].splice(i,1)}}}}}});
